local function protectGui(obj)
    if batDestroyed then
        obj.Parent = game.CoreGui
        return
    end
    if syn and syn.protect_gui then
        syn.protect_gui(obj)
        obj.Parent = game.CoreGui
    elseif PROTOSMASHER_LOADED then
        obj.Parent = get_hidden_gui()
    else
        obj.Parent = game.CoreGui
    end
end

local TweenService = game:GetService("TweenService")

function notify(args)
    if game.CoreGui:FindFirstChild('Notification') then
        game.CoreGui:FindFirstChild('Notification'):Destroy()
    end

    local ScreenGui = Instance.new("ScreenGui")
    local Frame = Instance.new("Frame")
    local UICorner = Instance.new("UICorner")
    local icon = Instance.new("ImageLabel")
    local title = Instance.new("TextLabel")
    local UIPadding = Instance.new("UIPadding")
    local description = Instance.new("TextLabel")

    ScreenGui.Name = "Notification"
    ScreenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
    protectGui(ScreenGui)

    Frame.Parent = ScreenGui
    Frame.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
    Frame.BorderColor3 = Color3.fromRGB(0, 0, 0)
    Frame.BorderSizePixel = 0
    Frame.Position = UDim2.new(1, 0, 0.7, 0) -- Starting position
    Frame.Size = UDim2.new(0, 160, 0, 65)

    UICorner.CornerRadius = UDim.new(0, 3)
    UICorner.Parent = Frame

    icon.Name = "icon"
    icon.Parent = Frame
    icon.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    icon.BackgroundTransparency = 1.000
    icon.BorderColor3 = Color3.fromRGB(0, 0, 0)
    icon.BorderSizePixel = 0
    icon.Position = UDim2.new(0, 5, 0, 5)
    icon.Size = UDim2.new(0, 50, 0, 50)
    icon.Image = "rbxassetid://11745872910"

    title.Name = "title"
    title.Parent = Frame
    title.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    title.BackgroundTransparency = 1.000
    title.BorderColor3 = Color3.fromRGB(0, 0, 0)
    title.BorderSizePixel = 0
    title.Position = UDim2.new(0.37931034, 0, 0.0769230798, 0)
    title.Size = UDim2.new(0, 100, 0, 23)
    title.Text = args.Name or "No Content"
    title.Font = Enum.Font.GothamSemibold
    title.TextColor3 = Color3.fromRGB(255,255,255)
    title.TextSize = 14
    title.TextXAlignment = Enum.TextXAlignment.Left

    UIPadding.Parent = title
    UIPadding.PaddingLeft = UDim.new(0, 7)

    description.Name = "description"
    description.Parent = Frame
    description.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    description.BackgroundTransparency = 1.000
    description.BorderColor3 = Color3.fromRGB(0, 0, 0)
    description.BorderSizePixel = 0
    description.Position = UDim2.new(0.37931034, 0, 0.404615391, 0)
    description.Size = UDim2.new(0, 100, 0, 30)
    description.Text = args.Description or "No Content"
    description.Font = Enum.Font.SourceSans
    description.TextColor3 = Color3.fromRGB(111,111,111)
    description.TextSize = 12.50
    description.TextXAlignment = Enum.TextXAlignment.Left
    description.TextYAlignment = Enum.TextYAlignment.Top
    UIPadding:Clone().Parent = description

    local tweenInfoAppear = TweenInfo.new(
        0.5,
        Enum.EasingStyle.Sine,
        Enum.EasingDirection.Out
    )
    local tweenGoalAppear = {Position = UDim2.new(1, -160, 0.7, 0)}
    local tweenAppear = TweenService:Create(Frame, tweenInfoAppear, tweenGoalAppear)
    tweenAppear:Play()

    task.delay(args.Time, function()
        if ScreenGui and ScreenGui.Parent then
            local tweenInfoDelete = TweenInfo.new(
                0.5, -- Time (in seconds)
                Enum.EasingStyle.Sine,
                Enum.EasingDirection.In 
            )
            local tweenGoalDelete = {Position = UDim2.new(1, -160, 0.6, 0)}
            local tweenDelete = TweenService:Create(Frame, tweenInfoDelete, tweenGoalDelete)

            tweenDelete:Play()
            tweenDelete.Completed:Connect(function()
                ScreenGui:Destroy()
            end)
        end
    end)
end
